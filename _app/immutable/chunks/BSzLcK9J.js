import{ab as te,H as Z,g as K,B as le,N as j,O as D,P as ne,am as S,an as m,Y as G,L as H,v as ue,V as J,h as N,ao as Q,ap as ve,aq as oe,ar as ce,as as V,at as x,au as _e,av as ee,af as de,a as he,$ as pe,J as Ae,K as U,M as L,Q as C,aw as ye,ae as ge,ax as ae,F as Ee,ay as Te,I as Ne,t as be,az as ke,_ as Ie,aA as we,aB as Ce}from"./BZIwDeuG.js";import{i as Re,c as Le,d as Me,b as Oe,n as Se,e as He,f as $e}from"./Ci-oUFVK.js";function ze(e,a){return a}function De(e,a,r,s){for(var f=[],u=a.length,h=0;h<u;h++)ve(a[h].e,f,!0);var A=u>0&&f.length===0&&r!==null;if(A){var p=r.parentNode;oe(p),p.append(r),s.clear(),I(e,a[0].prev,a[u-1].next)}ce(f,()=>{for(var g=0;g<u;g++){var d=a[g];A||(s.delete(d.k),I(e,d.prev,d.next)),ee(d.e,!A)}})}function Ke(e,a,r,s,f,u=null){var h=e,A={flags:a,items:new Map,first:null},p=(a&ae)!==0;if(p){var g=e;h=N?H(de(g)):g.appendChild(te())}N&&he();var d=null,k=!1,v=le(()=>{var _=r();return pe(_)?_:_==null?[]:m(_)});Z(()=>{var _=K(v),t=_.length;if(k&&t===0)return;k=t===0;let T=!1;if(N){var c=h.data===Ae;c!==(t===0)&&(h=U(),H(h),L(!1),T=!0)}if(N){for(var E=null,o,l=0;l<t;l++){if(C.nodeType===8&&C.data===ye){h=C,T=!0,L(!1);break}var i=_[l],n=s(i,l);o=re(C,A,E,null,i,n,l,f,a,r),A.items.set(n,o),E=o}t>0&&H(U())}N||Ve(_,A,h,f,a,s,r),u!==null&&(t===0?d?j(d):d=D(()=>u(h)):d!==null&&ne(d,()=>{d=null})),T&&L(!0),K(v)}),N&&(h=C)}function Ve(e,a,r,s,f,u,h){var q,Y,F,P;var A=(f&Te)!==0,p=(f&(x|V))!==0,g=e.length,d=a.items,k=a.first,v=k,_,t=null,T,c=[],E=[],o,l,i,n;if(A)for(n=0;n<g;n+=1)o=e[n],l=u(o,n),i=d.get(l),i!==void 0&&((q=i.a)==null||q.measure(),(T??(T=new Set)).add(i));for(n=0;n<g;n+=1){if(o=e[n],l=u(o,n),i=d.get(l),i===void 0){var y=v?v.e.nodes_start:r;t=re(y,a,t,t===null?a.first:t.next,o,l,n,s,f,h),d.set(l,t),c=[],E=[],v=t.next;continue}if(p&&xe(i,o,n,f),i.e.f&S&&(j(i.e),A&&((Y=i.a)==null||Y.unfix(),(T??(T=new Set)).delete(i))),i!==v){if(_!==void 0&&_.has(i)){if(c.length<E.length){var w=E[0],b;t=w.prev;var B=c[0],M=c[c.length-1];for(b=0;b<c.length;b+=1)X(c[b],w,r);for(b=0;b<E.length;b+=1)_.delete(E[b]);I(a,B.prev,M.next),I(a,t,B),I(a,M,w),v=w,t=M,n-=1,c=[],E=[]}else _.delete(i),X(i,v,r),I(a,i.prev,i.next),I(a,i,t===null?a.first:t.next),I(a,t,i),t=i;continue}for(c=[],E=[];v!==null&&v.k!==l;)v.e.f&S||(_??(_=new Set)).add(v),E.push(v),v=v.next;if(v===null)continue;i=v}c.push(i),t=i,v=i.next}if(v!==null||_!==void 0){for(var R=_===void 0?[]:m(_);v!==null;)v.e.f&S||R.push(v),v=v.next;var O=R.length;if(O>0){var fe=f&ae&&g===0?r:null;if(A){for(n=0;n<O;n+=1)(F=R[n].a)==null||F.measure();for(n=0;n<O;n+=1)(P=R[n].a)==null||P.fix()}De(a,R,fe,d)}}A&&Ee(()=>{var z;if(T!==void 0)for(i of T)(z=i.a)==null||z.apply()}),G.first=a.first&&a.first.e,G.last=t&&t.e}function xe(e,a,r,s){s&x&&Q(e.v,a),s&V?Q(e.i,r):e.i=r}function re(e,a,r,s,f,u,h,A,p,g){var d=(p&x)!==0,k=(p&_e)===0,v=d?k?ue(f):J(f):f,_=p&V?J(h):h,t={i:_,v,k:u,a:null,e:null,prev:r,next:s};try{return t.e=D(()=>A(e,v,_,g),N),t.e.prev=r&&r.e,t.e.next=s&&s.e,r===null?a.first=t:(r.next=t,r.e.next=t.e),s!==null&&(s.prev=t,s.e.prev=t.e),t}finally{}}function X(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,f=a?a.e.nodes_start:r,u=e.e.nodes_start;u!==s;){var h=ge(u);f.before(u),u=h}}function I(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function Ge(e,a,...r){var s=e,f=be,u;Z(()=>{f!==(f=a())&&(u&&(ee(u),u=null),u=D(()=>f(s,...r)))},Ne),N&&(s=C)}function se(e){var a,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var f=e.length;for(a=0;a<f;a++)e[a]&&(r=se(e[a]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Be(){for(var e,a,r=0,s="",f=arguments.length;r<f;r++)(e=arguments[r])&&(a=se(e))&&(s&&(s+=" "),s+=a);return s}function qe(e){return typeof e=="object"?Be(e):e??""}function Je(e){if(N){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;$(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var f=e.checked;$(e,"checked",null),e.checked=f}}};e.__on_r=r,Ce(r),$e()}}function Ye(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function $(e,a,r,s){var f=e.__attributes??(e.__attributes={});N&&(f[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||f[a]!==(f[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[ke]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ie(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function Qe(e,a,r,s,f=!1,u=!1,h=!1){let A=N&&u;A&&L(!1);var p=a||{},g=e.tagName==="OPTION";for(var d in a)d in r||(r[d]=null);r.class&&(r.class=qe(r.class)),s!==void 0&&(r.class=r.class?r.class+" "+s:s);var k=ie(e),v=e.__attributes??(e.__attributes={});for(const o in r){let l=r[o];if(g&&o==="value"&&l==null){e.value=e.__value="",p[o]=l;continue}var _=p[o];if(l!==_){p[o]=l;var t=o[0]+o[1];if(t!=="$$"){if(t==="on"){const i={},n="$$"+o;let y=o.slice(2);var T=He(y);if(Re(y)&&(y=y.slice(0,-7),i.capture=!0),!T&&_){if(l!=null)continue;e.removeEventListener(y,p[n],i),p[n]=null}if(l!=null)if(T)e[`__${y}`]=l,Me([y]);else{let w=function(b){p[o].call(this,b)};p[n]=Le(y,e,w,i)}else T&&(e[`__${y}`]=void 0)}else if(o==="style"&&l!=null)e.style.cssText=l+"";else if(o==="autofocus")Oe(e,!!l);else if(!u&&(o==="__value"||o==="value"&&l!=null))e.value=e.__value=l;else if(o==="selected"&&g)Ye(e,l);else{var c=o;f||(c=Se(c));var E=c==="defaultValue"||c==="defaultChecked";if(l==null&&!u&&!E)if(v[o]=null,c==="value"||c==="checked"){let i=e;const n=a===void 0;if(c==="value"){let y=i.defaultValue;i.removeAttribute(c),i.defaultValue=y,i.value=i.__value=n?y:null}else{let y=i.defaultChecked;i.removeAttribute(c),i.defaultChecked=y,i.checked=n?y:!1}}else e.removeAttribute(o);else E||k.includes(c)&&(u||typeof l!="string")?e[c]=l:typeof l!="function"&&$(e,c,l)}o==="style"&&"__styles"in e&&(e.__styles={})}}}return A&&L(!0),p}var W=new Map;function ie(e){var a=W.get(e.nodeName);if(a)return a;W.set(e.nodeName,a=[]);for(var r,s=e,f=Element.prototype;f!==s;){r=we(s);for(var u in r)r[u].set&&a.push(u);s=Ie(s)}return a}export{Ge as a,Qe as b,Ke as e,ze as i,Je as r,$ as s};
